<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="528" width="512" viewBox="0 0 512 528" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
<g class="text">
<text x="36" y="308">CoAP</text>
<text x="244" y="308">CoAP</text>
<text x="428" y="308">CoAP</text>
<text x="48" y="324">clients</text>
<text x="244" y="324">server</text>
<text x="440" y="324">clients</text>
<text x="56" y="340">┌───────────┐</text>
<text x="244" y="340">┌──────────┐</text>
<text x="336" y="340">observe</text>
<text x="452" y="340">┌────────────┐</text>
<text x="8" y="356">│</text>
<text x="136" y="356">│ publish</text>
<text x="200" y="356">│</text>
<text x="344" y="356">│◀────────────│</text>
<text x="504" y="356">│</text>
<text x="104" y="372">│ publisher ├──────────▶│</text>
<text x="396" y="372">├────────────▶│ subscriber │</text>
<text x="8" y="388">│</text>
<text x="104" y="388">│</text>
<text x="200" y="388">│</text>
<text x="344" y="388">├────────────▶│</text>
<text x="504" y="388">│</text>
<text x="56" y="404">└───────────┘</text>
<text x="200" y="404">│</text>
<text x="288" y="404">│</text>
<text x="452" y="404">└────────────┘</text>
<text x="48" y="420">┄</text>
<text x="200" y="420">│</text>
<text x="244" y="420">broker</text>
<text x="288" y="420">│</text>
<text x="440" y="420">┄</text>
<text x="48" y="436">┄</text>
<text x="200" y="436">│</text>
<text x="288" y="436">│</text>
<text x="440" y="436">┄</text>
<text x="56" y="452">┌───────────┐</text>
<text x="200" y="452">│</text>
<text x="288" y="452">│</text>
<text x="336" y="452">observe</text>
<text x="452" y="452">┌────────────┐</text>
<text x="8" y="468">│</text>
<text x="136" y="468">│ publish</text>
<text x="200" y="468">│</text>
<text x="344" y="468">│◀────────────│</text>
<text x="504" y="468">│</text>
<text x="104" y="484">│ publisher ├──────────▶│</text>
<text x="396" y="484">├────────────▶│ subscriber │</text>
<text x="8" y="500">│</text>
<text x="104" y="500">│</text>
<text x="200" y="500">│</text>
<text x="344" y="500">├────────────▶│</text>
<text x="504" y="500">│</text>
<text x="56" y="516">└───────────┘</text>
<text x="244" y="516">└──────────┘</text>
<text x="452" y="516">└────────────┘</text>
</g>
</svg>
